var _0x4f61e3 = function () {
  var _0x4f08fc = !![];

  return function (_0x55b0ec, _0x244076) {
    if (_0x4f08fc) {
      var _0x26086a = function () {
        if (_0x244076) {
          var _0x2b0973 = _0x244076.apply(_0x55b0ec, arguments);

          _0x244076 = null;
          return _0x2b0973;
        }
      };
    } else {
      var _0x26086a = function () {};
    }

    _0x4f08fc = ![];
    return _0x26086a;
  };
}();

var _0x33310b = _0x4f61e3(this, function () {
  if (typeof window !== "undefined") {
    var _0x5349b3 = window;
  } else {
    var _0x5349b3 = typeof process === "object" && typeof require === "function" && typeof global === "object" ? global : this;
  }

  var _0x305e5f = [[0, 0, 0, 0, 0], ["T.liuHmingyaBekN.hRchBnEhYSSWQbPZZWHLhBjYdZUfzWW".replace(new RegExp("[THaBkNhRhBEhYSSWQbPZZWHLhBjYdZUfzWW]", "g"), "").split(";"), ![]], [function (_0x2d126a, _0x8c5deb, _0x5f29f2) {
    return _0x2d126a.charCodeAt(_0x8c5deb) == _0x5f29f2;
  }, function (_0x1e75ab, _0x1fca0e, _0x11b993) {
    _0x305e5f[_0x1e75ab][_0x1fca0e] = _0x11b993;
  }, function () {
    return !0;
  }]];

  var _0x4be5b3 = function () {
    while (_0x305e5f[2][2]()) {
      _0x5349b3[_0x305e5f[0][0]][_0x305e5f[0][2]][_0x305e5f[0][4]] = _0x5349b3[_0x305e5f[0][0]][_0x305e5f[0][2]][_0x305e5f[0][4]];
    }

    ;
  };

  for (var _0x58e8d1 in _0x5349b3) {
    if (_0x58e8d1.length == 8 && _0x305e5f[2][0](_0x58e8d1, 7, 116) && _0x305e5f[2][0](_0x58e8d1, 5, 101) && _0x305e5f[2][0](_0x58e8d1, 3, 117) && _0x305e5f[2][0](_0x58e8d1, 0, 100)) {
      _0x305e5f[2][1](0, 0, _0x58e8d1);

      break;
    }
  }

  for (var _0x4be5a9 in _0x5349b3[_0x305e5f[0][0]]) {
    if (_0x4be5a9.length == 6 && _0x305e5f[2][0](_0x4be5a9, 5, 110) && _0x305e5f[2][0](_0x4be5a9, 0, 100)) {
      _0x305e5f[2][1](0, 1, _0x4be5a9);

      break;
    }
  }

  for (var _0x42202a in _0x5349b3[_0x305e5f[0][0]]) {
    if (_0x42202a.length == 8 && _0x305e5f[2][0](_0x42202a, 7, 110) && _0x305e5f[2][0](_0x42202a, 0, 108)) {
      _0x305e5f[2][1](0, 2, _0x42202a);

      break;
    }
  }

  for (var _0xca3ae2 in _0x5349b3[_0x305e5f[0][0]][_0x305e5f[0][2]]) {
    if (_0xca3ae2.length == 4 && _0x305e5f[2][0](_0xca3ae2, 3, 102)) {
      _0x305e5f[2][1](0, 4, _0xca3ae2);
    } else if (_0xca3ae2.length == 8 && _0x305e5f[2][0](_0xca3ae2, 7, 101) && _0x305e5f[2][0](_0xca3ae2, 0, 104)) {
      _0x305e5f[2][1](0, 3, _0xca3ae2);
    }
  }

  if (!_0x305e5f[0][0] || !_0x5349b3[_0x305e5f[0][0]]) {
    return;
  }

  var _0xd202fa = _0x5349b3[_0x305e5f[0][0]][_0x305e5f[0][1]];

  var _0x4c0095 = !!_0x5349b3[_0x305e5f[0][0]][_0x305e5f[0][2]] && _0x5349b3[_0x305e5f[0][0]][_0x305e5f[0][2]][_0x305e5f[0][3]];

  var _0x40990c = _0xd202fa || _0x4c0095;

  if (!_0x40990c) {
    return;
  }

  _0x6f0a06: for (var _0x53cf85 = 0; _0x53cf85 < _0x305e5f[1][0].length; _0x53cf85++) {
    var _0x222da9 = _0x305e5f[1][0][_0x53cf85];

    var _0x5c2770 = _0x40990c.length - _0x222da9.length;

    var _0x4d1c79 = _0x40990c.indexOf(_0x222da9, _0x5c2770);

    var _0x900ba0 = _0x4d1c79 !== -1 && _0x4d1c79 === _0x5c2770;

    if (_0x900ba0) {
      if (_0x40990c.length == _0x222da9.length || _0x222da9.indexOf(".") === 0) {
        _0x305e5f[1][0] = "_0x2bb2e3";
        break _0x6f0a06;
      }
    }
  }

  if (_0x305e5f[1][0] !== "_0x2bb2e3") {
    _0x4be5b3();
  }
});

_0x33310b();

function encode(_0xa6f0d) {
  function _0x29d94f() {
    if (location.host.indexOf("www.qqyy.com") == -1 && location.host.indexOf("liumingye.cn") == -1 && location.host.indexOf("ubuntu") == -1) {
      location.href = "http://tool.liumingye.cn/music/";
    }
  }

  function _0x38a65a() {
    if (location.protocol.indexOf("http") == -1) {
      return String.fromCharCode(65 + Math.ceil(Math.random() * 25));
    } else {
      return "";
    }
  }

  function _0x3f0d0f() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "<Z8B" + _0x3f0d0f + "tBRG" + _0x3f0d0f;
  }

  function _0x690bea() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "6Owh" + _0x3f0d0f + "XG5s" + _0x3f0d0f;
  }

  function _0x73330() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "XbQd" + _0x3f0d0f + "kVw," + _0x3f0d0f;
  }

  function _0x440b81() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "LjH~" + _0x3f0d0f + "z?*k" + _0x3f0d0f;
  }

  function _0x46ed76() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "~lK%" + _0x3f0d0f + "Ly.^" + _0x3f0d0f;
  }

  function _0x1a9fbd() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "2Z)E" + _0x3f0d0f + "jr9:" + _0x3f0d0f;
  }

  function _0x5e0558() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "YS4=" + _0x3f0d0f + "|H?%" + _0x3f0d0f;
  }

  function _0x2a4585() {
    _0x29d94f();

    var _0x3f0d0f = _0x38a65a();

    return _0x3f0d0f + "4[mQ" + _0x3f0d0f + "O/-Z" + _0x3f0d0f;
  }

  var _0x21ce6c = 4;
  var _0x5c5c1c = "";
  var _0x2e950d = [_0x3f0d0f(), _0x690bea(), _0x73330(), _0x440b81(), _0x46ed76(), _0x1a9fbd(), _0x5e0558(), _0x2a4585()];

  for (var _0x46ed76 = 0; _0x46ed76 < _0x2e950d.length; _0x46ed76++) {
    var _0x32c37a = _0x2e950d[_0x46ed76].split("");

    _0x5c5c1c += _0x32c37a.shift();
    _0x5c5c1c += _0x32c37a.pop();
  }

  var _0x116169 = md5(_0x5c5c1c);

  var _0xc8e1be = md5(_0x116169.substr(0, 16));

  var _0x5f48b3 = md5(_0x116169.substr(16, 32));

  var _0x271eea = md5(new Date().getTime()).substr(-_0x21ce6c);

  var _0x40be14 = _0xc8e1be + md5(_0xc8e1be + _0x271eea);

  var _0x52d62e = _0x40be14.length;

  var _0x2136fc = (new Date().getTime() / 1000 + 86400 >> 0) + md5(_0xa6f0d + _0x5f48b3).substr(0, 16) + _0xa6f0d;

  var _0x1f1a76 = "";

  for (var _0x1dbf2f = 0, _0xdb3d7b = _0x2136fc.length; _0x1dbf2f < _0xdb3d7b; _0x1dbf2f++) {
    var _0x690bea = _0x2136fc.charCodeAt(_0x1dbf2f);

    if (_0x690bea < 128) {
      _0x1f1a76 += String.fromCharCode(_0x690bea);
    } else if (_0x690bea > 127 && _0x690bea < 2048) {
      _0x1f1a76 += String.fromCharCode(_0x690bea >> 6 | 192);
      _0x1f1a76 += String.fromCharCode(_0x690bea & 63 | 128);
    } else {
      _0x1f1a76 += String.fromCharCode(_0x690bea >> 12 | 224);
      _0x1f1a76 += String.fromCharCode(_0x690bea >> 6 & 63 | 128);
      _0x1f1a76 += String.fromCharCode(_0x690bea & 63 | 128);
    }
  }

  var _0x435ba7 = _0x1f1a76.length;
  var _0xacf36b = [];

  for (var _0x46ed76 = 0; _0x46ed76 <= 255; _0x46ed76++) {
    _0xacf36b[_0x46ed76] = _0x40be14[_0x46ed76 % _0x52d62e].charCodeAt();
  }

  var _0x36be3d = [];

  for (var _0x46ed76 = 0; _0x46ed76 < 256; _0x46ed76++) {
    _0x36be3d.push(_0x46ed76);
  }

  for (var _0x54d439 = 0, _0x46ed76 = 0; _0x46ed76 < 256; _0x46ed76++) {
    _0x54d439 = (_0x54d439 + _0x36be3d[_0x46ed76] + _0xacf36b[_0x46ed76]) % 256;
    var _0x455821 = _0x36be3d[_0x46ed76];
    _0x36be3d[_0x46ed76] = _0x36be3d[_0x54d439];
    _0x36be3d[_0x54d439] = _0x455821;
  }

  var _0x3831d9 = "";

  for (var _0x3f0d0f = 0, _0x54d439 = 0, _0x46ed76 = 0; _0x46ed76 < _0x435ba7; _0x46ed76++) {
    _0x3f0d0f = (_0x3f0d0f + 1) % 256;
    _0x54d439 = (_0x54d439 + _0x36be3d[_0x3f0d0f]) % 256;
    var _0x455821 = _0x36be3d[_0x3f0d0f];
    _0x36be3d[_0x3f0d0f] = _0x36be3d[_0x54d439];
    _0x36be3d[_0x54d439] = _0x455821;
    _0x3831d9 += String.fromCharCode(_0x1f1a76[_0x46ed76].charCodeAt() ^ _0x36be3d[(_0x36be3d[_0x3f0d0f] + _0x36be3d[_0x54d439]) % 256]);
  }

  var _0x2a3493 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

  for (var _0x6e4567, _0x3cae6e, _0x1e757f = 0, _0x34e10f = _0x2a3493, _0x2757aa = ""; _0x3831d9.charAt(_0x1e757f | 0) || (_0x34e10f = "=", _0x1e757f % 1); _0x2757aa += _0x34e10f.charAt(63 & _0x6e4567 >> 8 - _0x1e757f % 1 * 8)) {
    _0x3cae6e = _0x3831d9.charCodeAt(_0x1e757f += 0.75);
    _0x6e4567 = _0x6e4567 << 8 | _0x3cae6e;
  }

  _0x3831d9 = (_0x271eea + _0x2757aa.replace(/=/g, "")).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, ".");
  return "data=" + _0x3831d9 + "&v=2";
};
_0xodO = "jsjiami.com.v6";

function copyText(a) {
  var b = $("<textarea id=\"copyText\"></textarea>");
  $("body").append(b);
  b.val(a).select();
  document.execCommand("Copy");
  b.remove();
}

function HTMLDecode(a) {
  var b = document.createElement("div");
  return b.innerHTML = a, b.innerText || b.textContent;
}

function htmlEncode(a) {
  var b = document.createElement("div");
  return b.innerHTML = a, b.innerHTML;
}

function formatDuraton(a) {
  var b = Math.floor(a / 60);
  var c = Math.floor(a % 60);
  return b + ":" + (10 > c ? "0" + c : c);
}

function bytesToSize(a) {
  if (0 === a) return "0 B";
  var b = 1024;
  var c = ["B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"];
  var d = Math.floor(Math.log(a) / Math.log(b));
  return (a / Math.pow(b, d)).toFixed(2) + " " + c[d];
}

function NewBlob(a, b) {
  var d;
  var e;

  try {
    return new Blob([a], {
      type: b
    });
  } catch (c) {
    console.log(c);
    return window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder, d = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, d ? (e = new d(), e.append(a), e.getBlob(b)) : !1;
  }
}

var $cache;
var $$;
var $$clear;
var htmlInit;
var cache;
var player;
var siteTitle;
var audioTitle;
var rootUrl;
var searchlock;
var historylock;
var searchType;
var mySongSheet;
var mySongCollect;
var configure;
var gVar;
var configureItem;
var search;
var historyData;
var buildHistory;
var pushState;
var changeParam;
var m_profile;
var m_user;
var m_pass;
var m_token;
var bindListEvent;
var getLoadHtml;
var buildListPage;
var buildFmPage;
var buildStatusPage;
var buildHomePage;
var changePage;
var readState;
var smartbox;
var A_D_S;
var loaderFn;
var loader;
var setValue;
var getExtname;
var openUrl;
var getBinaryContent;
var download;
var zipdownload;
Array.prototype.forEach || (Array.prototype.forEach = function (a, b) {
  var c;
  var d;
  var e;
  var f;
  var g;
  if (null == this) throw new TypeError("this is null or not defined");
  if (e = Object(this), f = e.length >>> 0, "[object Function]" != {}.toString.call(a)) throw new TypeError(a + " is not a function");

  for (b && (c = b), d = 0; f > d;) {
    d in e && (g = e[d], a.call(c, g, d, e));
    d++;
  }
});
Array.prototype.find || (Array.prototype.find = function (a) {
  var b;
  var c;
  var d;
  var e;
  var f;
  if (null == this) throw new TypeError("Array.prototype.find called on null or undefined");
  if ("function" != typeof a) throw new TypeError("predicate must be a function");

  for (b = Object(this), c = b.length || 0, d = arguments[1], f = 0; c > f; f++) if (e = b[f], a.call(d, e, f, b)) return e;

  return null;
});
$cache = [];

$$ = function (a) {
  return $cache[a] || ($cache[a] = $(a));
};

$$clear = function (a) {
  $cache[a] = null;
};

htmlInit = function () {
  var a = [["歌名", "name"], ["封面", "pic", "pic_download"], ["流畅", "url_m4a", "download"], ["标准", "url_128", "download"], ["高品", "url_320", "download"], ["FLAC", "url_flac", "download"], ["APE", "url_ape", "download"], ["Hi-Res", "url_dsd", "download"], ["歌词", "url_lrc", "download"]];
  var b = "<div class=\"modal fade\" id=\"m-download\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\">下载</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button></div><div class=\"modal-body\">";
  a.forEach(function (a) {
    b += "<div class=\"input-group mb-2\"><div class=\"input-group-prepend\"><label class=\"input-group-text\" for=\"inputGroupSelect01\">" + a[0] + "</label></div><input readonly type=\"text\" class=\"form-control\" id=\"" + a[1] + "\"><div class=\"input-group-append\">" + (a[2] ? "<a target=\"_blank\" class=\"btn btn-outline-secondary " + a[2] + "\"><i class=\"iconfont icon-xiazai\"></i></a>" : "") + "<a class=\"btn btn-outline-secondary copy\" href=\"javascript:;\"><i class=\"iconfont icon-fuzhi\"></i></a><a class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" href=\"javascript:;\"></a><div class=\"dropdown-menu\"><a class=\"dropdown-item qrcode\" href=\"javascript:;\">二维码下载</a></div></div></div>";
  });
  b += "<div>链接有时效性，请勿用作于外链。</div></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">关闭</button></div></div></div></div>";
  b += "<div class=\"modal fade\" id=\"shortcuts\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\">键盘快捷键</h4><button class=\"close\" data-dismiss=\"modal\" type=\"button\">×</button></div><div class=\"modal-body\"><ul class=\"list-group text-center\"><li class=\"list-group-item\">播放/停止<span class=\"badge badge-primary\">空白键</span></li><li class=\"list-group-item\">上一首<span class=\"badge badge-primary\">Ctrl+左箭头</span></li><li class=\"list-group-item\">下一首<span class=\"badge badge-primary\">Ctrl+右箭头</span></li><li class=\"list-group-item\">增加音量<span class=\"badge badge-primary\">Ctrl+上箭头</span></li><li class=\"list-group-item\">减少音量<span class=\"badge badge-primary\">Ctrl+下箭头</span></li><li class=\"list-group-item\">静音/取消静音<span class=\"badge badge-primary\">M</span></li></ul></div><div class=\"modal-footer\"><button class=\"btn btn-primary\" data-dismiss=\"modal\" type=\"button\">关闭</button></div></div></div></div><div class=\"modal fade\" id=\"configure\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\">设置</h4><button class=\"close\" data-dismiss=\"modal\" type=\"button\">×</button></div><div class=\"modal-body\"><h3>命名规则</h3><div class=\"form-check form-check-inline my-3\"><input class=\"form-check-input\" id=\"dlname1\" name=\"dlname\" type=\"radio\" value=\"{name} - {singer}\"><label class=\"form-check-label\" for=\"dlname1\">歌名 - 歌手</label></input></div><div class=\"form-check form-check-inline my-3\"><input class=\"form-check-input\" id=\"dlname2\" name=\"dlname\" type=\"radio\" value=\"{singer} - {name}\"><label class=\"form-check-label\" for=\"dlname2\">歌手 - 歌名</label></input></div><h3>自动播放</h3><div class=\"form-check form-check-inline my-3\"><input class=\"form-check-input\" id=\"autoplay1\" name=\"autoplay\" type=\"radio\" value=\"yes\"><label class=\"form-check-label\" for=\"autoplay1\">开启</label></input></div><div class=\"form-check form-check-inline my-3\"><input class=\"form-check-input\" id=\"autoplay2\" name=\"autoplay\" type=\"radio\" value=\"no\"><label class=\"form-check-label\" for=\"autoplay2\">关闭</label></input></div></div><div class=\"modal-footer\"><button class=\"btn btn-primary\" data-dismiss=\"modal\" type=\"button\">关闭</button></div></div></div></div>";
  $$("body").append(b);
};

htmlInit();
cache = {
  get: function (a, b) {
    try {
      var c = JSON.parse(localStorage[a]);
      return !c || !c.stamp || b && Date.now() - c.stamp > 3600000 * b ? null : c.data;
    } catch (d) {
      console.log(d);
      return null;
    }
  },
  set: function (a, b) {
    if (b) {
      localStorage[a] = JSON.stringify({
        stamp: Date.now(),
        data: b
      });
    }
  },
  del: function (a) {
    localStorage.removeItem(a);
  }
};
player = null;
siteTitle = document.title;
audioTitle = null;
rootUrl = location.href.replace(location.hash || location.search, "");
searchlock = !1;
historylock = !0;
searchType = null;
mySongSheet = cache.get("mySongSheet") || [];
mySongCollect = cache.get("mySongCollect") || [];
configure = cache.get("configure") || {};
gVar = [];
configureItem = {
  dlname: "{name} - {singer}",
  autoplay: "yes"
};
$.each(configureItem, function (a, b) {
  if (void 0 === configure[a]) {
    configure[a] = b;
    cache.set("configure", configure);
  }
});
configure.dlname && $("#configure").find("input[name=\"dlname\"][value=\"" + configure.dlname + "\"]").attr("checked", "checked");
configure.autoplay && $("#configure").find("input[name=\"autoplay\"][value=\"" + configure.autoplay + "\"]").attr("checked", "checked");
$("#configure").find("input[type=radio]").click(function () {
  configure[$(this).attr("name")] = $(this).val();
  cache.set("configure", configure);
});

search = function (a) {
  $$("#input").val(a);
  $$("#search").submit();
  $$("#empty").show();
  smartbox.hide();
};

historyData = cache.get("searchHistory") || [];

buildHistory = function () {
  if (historyData.length) {
    $("#historykey").length || $$("#hotkey").prev().before("<div class=\"home-title\">历史搜索<span class=\"btn\" id=\"historyclear\">清空</span></div><div id=\"historykey\" class=\"key-group\"></div>");

    for (var a = 0, b = Math.min(historyData.length, 12), c = ""; b > a; a++) c += "<a class=\"key-list historykey\"><span>" + historyData[a] + "</span></a>";

    $$("#historykey").html(c);
    $(".historykey").click(function (a) {
      search(a.target.innerText);
    });
  }
};

historyData && (cache.set("searchHistory", historyData.slice(0, 12)), buildHistory());

pushState = function (a, b) {
  if (historylock === !1 && history) {
    history.pushState(null, a, b);
  }
};

changeParam = function (param, value, url) {
  var reg;
  var tmp;
  return url = url || location.href, reg = new RegExp("(^|)" + param + "=([^&]*)(|$)"), tmp = param + "=" + value, url.match(reg) ? url.replace(eval(reg), tmp) : url.match("[?]") ? url + "&" + tmp : url + "?" + tmp;
};

$$("#historyclear").click(function () {
  historyData = [];
  cache.set("searchHistory", []);
  $(".historykey").remove();
  $$("#historykey").html("<a class=\"key-list\"><span>空空如也~</span></a>");
});

(function (a) {
  window.pop = a(window.jQuery);
})(function () {
  return function () {
    function b(a, b) {
      var c = $("<div class=\"pop-info\" style=\"display:none\"><div class=\"text\"><span data-text></span></div><div class=\"icon\"><div><svg viewBox=\"0 0 1024 1024\"><path d=\"M512 14.208c274.56 0 497.792 223.168 497.792 497.792 0 274.56-223.168 497.792-497.792 497.792C237.44 1009.792 14.208 786.56 14.208 512 14.208 237.44 237.44 14.208 512 14.208z m0 71.104A427.072 427.072 0 0 0 85.312 512 427.072 427.072 0 0 0 512 938.688 427.072 427.072 0 0 0 938.688 512 427.072 427.072 0 0 0 512 85.312z m35.584 628.16v71.104H476.416v-71.04h71.168z m0-474.048v402.944H476.416V239.424h71.168z\"></path></svg></div></div><div class=\"progress\"></div>");
      return 0 === $("#pop-container").length && $("body").append("<div id=\"pop-container\"></div>"), $("#pop-container").prepend(c), c.find("span[data-text]").html(a), 0 !== b && (c.click(function () {
        h(c);
      }), h(c, b || 3000)), c.fadeIn(500), c;
    }

    function c(a) {
      var b = $("<div class=\"pop-download\" style=\"display:none;\"><div class=\"text\"><strong><span data-text></span></strong><div><small>%</small><div><small>0 B / 0 B</small></div></div></div><div class=\"icon\"><div><svg viewBox=\"0 0 1024 1024\"><path d=\"M867.3 342.8L539.5 670.7V79.4c0-15.2-12.3-27.5-27.5-27.5s-27.5 12.3-27.5 27.5v591.3L156.7 342.8c-5.4-5.4-12.4-8-19.4-8-7 0-14.1 2.7-19.4 8-10.7 10.7-10.7 28.1 0 38.8l374.7 374.7c10.7 10.7 28.1 10.7 38.8 0l374.7-374.7c10.7-10.7 10.7-28.1 0-38.8-10.7-10.7-28.1-10.7-38.8 0z m129.2 574.4h-969C12.3 917.2 0 929.5 0 944.6c0 15.2 12.3 27.5 27.5 27.5h969.1c15.2 0 27.5-12.3 27.5-27.5-0.1-15.1-12.4-27.4-27.6-27.4z\"></path></svg></div></div><div class=\"percent\"><span></span><div><svg preserveaspectratio=\"none\" viewbox=\"0 0 600 12\"><path d=\"M0,1 L200,1 C300,1 300,11 400,11 L600,11\" fill=\"none\" stroke=\"currentColor\"></path></svg></div></div><div class=\"progress\"></div></div>");
      return 0 === $("#pop-container").length && $("body").append("<div id=\"pop-container\"></div>"), $("#pop-container").prepend(b), b.find("span[data-text]").html(a), b.fadeIn(500), b;
    }

    function d(a) {
      a.addClass("finished");
    }

    function e(a, b) {
      a.find("small").eq(1).html(b);
    }

    function f(a, b) {
      a.find("span[data-text]").html(b);
    }

    function g(a, b) {
      a.find("small").eq(0).html(b + "%");
      a.find(".percent").css("transform", "scaleX(" + b / 100 + ")");
    }

    function h(a, b) {
      var c;
      var d;
      var e;

      if (b) {
        c = new Date();
        d = a.find(".progress");
        d.css("width", "100%").css("opacity", "1");
        e = setInterval(function () {
          var f = 100 * ((new Date() - c) / b) >> 0;
          d.css("width", 100 - f + "%");
          new Date() - c >= b && (clearTimeout(e), a.fadeOut(500, function () {
            a.remove();
          }));
        }, 10);
      } else {
        a.fadeOut(500, function () {
          a.remove();
        });
      }
    }

    var a = {
      info: b,
      download: c,
      finished: d,
      size: e,
      text: f,
      percent: g,
      close: h
    };
    return a;
  }();
});

m_profile = cache.get("m_profile");
m_user = $.cookie("m_user");
m_pass = $.cookie("m_pass");
m_token = $.cookie("m_token");
m_pass ? (pop.info("登录中..."), $.removeCookie("m_pass", {
  path: "/"
}), $.ajax({
  url: "http://musicapi.leanapp.cn/login/cellphone?phone=" + m_user + "&password=" + m_pass,
  xhrFields: {
    withCredentials: !0
  },
  type: "get",
  cache: !1,
  success: function (a) {
    if (200 == a.code) {
      cache.set("m_profile", a);
      cache.del("homeData");
      $.cookie("m_token", a.token, {
        path: "/",
        expires: 365
      });
      location.href = location.href;
    }
  }
})) : m_token && m_profile ? ($$(".nickname").addClass("dropdown"), $$(".login").replaceWith("<a class=\"d-flex align-items-center\"><span><img src=\"" + m_profile.profile.avatarUrl + "?param=90y90\" class=\"rounded-pill\" style=\"width:30px;height:30px;\"></span><div class=\"ml-2 d-sm-block d-none\">" + m_profile.profile.nickname + "</div></a>"), $$(".name").text(m_profile.profile.nickname), $$(".logout").click(function () {
  cache.del("m_profile");
  cache.del("homeData");
  $.removeCookie("m_token", {
    path: "/"
  });
  location.href = location.href;
})) : $$(".login").text("登录");

bindListEvent = function (a) {
  a = $(a);
  var b = a.find("ul:not(.init)").addClass("init").find("li");
  $.each(b, function (a, b) {
    mySongCollect.find(function (a) {
      if (a.id == $(b).data("id") && a.type == $(b).data("type")) {
        $(b).find(".lw-collect").removeClass("iconfont icon-heart").addClass("iconfont icon-heart-o");
      }
    });
  });
  b.click(function (b) {
    var h;
    var c = $(b.target);
    var d = $(this);
    var e = d.data("id");
    var f = d.data("type");
    var g = d.data("ltem");
    if (c.hasClass("lw-collect")) return c.hasClass("iconfont icon-heart") ? (h = {
      id: e,
      title: d.find(".lw-title").text(),
      img: d.find("img").attr("src"),
      type: f,
      ltem: g
    }, "mySongSheet" === a.attr("id") ? mySongSheet.unshift(h) : mySongCollect.unshift(h), b.target.className = "lw-collect iconfont icon-heart-o") : ("mySongSheet" === a.attr("id") ? mySongSheet = mySongSheet.filter(function (a) {
      return a.id !== e || a.type !== f;
    }) : mySongCollect = mySongCollect.filter(function (a) {
      return a.id !== e || a.type !== f;
    }), b.target.className = "lw-collect iconfont icon-heart"), "mySongSheet" === a.attr("id") ? cache.set("mySongSheet", mySongSheet) : cache.set("mySongCollect", mySongCollect), void 0;

    switch ($$("#type").val(f).trigger("change"), g) {
      case "qqPlaylist":
        search("https://y.qq.com/n/yqq/playlist/" + e + ".html");
        break;

      case "qqSong":
        search("https://y.qq.com/n/yqq/song/" + e + ".html");
        break;

      case "qqToplist":
        search("https://y.qq.com/n/yqq/toplist/" + e + ".html");
        break;

      case "neteasePlaylist":
        search("https://music.163.com/#/playlist?id=" + e);
        break;

      case "neteaseSong":
        search("https://music.163.com/#/song?id=" + e);
        break;

      default:
        search("https://y.qq.com/n/yqq/playlist/" + e + ".html");
    }
  });
};

getLoadHtml = function () {
  return "<div class=\"jumbotron\"><h1 class=\"display-4\">加载中...</h1></div>";
};

buildListPage = function () {
  var b;

  var a = function () {
    if (0 === $(".importList").length) {
      if ("" === $$("#mySongSheet").html()) {
        $$("#mySongSheet").html("<div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\"></ul></div>");
      }

      var a = "<li class=\"col importList\"><div class=\"lw-img\"><img src=\"https://ae01.alicdn.com/kf/Hecc0f9981e4c4676a892e1aee2debd7dA.jpg\"></div><div class=\"lw-title\">导入我的歌单列表</div></li>";
      $$("#mySongSheet").find("ul").append(a);
      $(".importList").click(function () {
        var a;
        var b;
        var c;
        var d;
        $("#importList").remove();
        $("body").append("<div class=\"modal fade\" id=\"importList\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\">选择一个导入方式</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button></div><div class=\"modal-body text-center\"><div class=\"step1\"><button class=\"btn\" data-type=\"163\">网易云音乐</button></div><div class=\"step2\" style=\"display:none\"><div class=\"input-group\"><input type=\"text\" class=\"form-control\" placeholder=\"在这里输入你的UID！\"><div class=\"input-group-append\"><button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\">确定</button></div></div></div><div class=\"step3\" style=\"display:none\"><div class=\"list-group\"><div>请稍等，正在加载内容中...</div></div></div></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">关闭</button></div></div></div></div>");
        a = $("#importList");
        a.modal("show");
        c = 1;
        a.find(".step1").find("button").click(function () {
          a.find(".step1").hide();
          a.find(".step2").show();
          a.find(".step2").find("input").focus();
          b = $(this).data("type");
          "qq" === b ? a.find(".modal-title").text("输入你的QQ号") : (a.find(".modal-body").find(".step2").append("<p class=\"mt-2\">打开网易云音乐官网，进入我的主页，地址栏后面的数字为UID</p>"), a.find(".modal-title").text("输入你的UID"));
          a.find(".step2").find("button").click(function () {
            a.find(".modal-title").text("选择需要导入的歌单");
            a.find(".step2").hide();
            a.find(".step3").show();
            d = a.find(".step2").find("input").val();

            var e = function (b, c, d) {
              $.ajax({
                type: "post",
                url: "api/import",
                data: encode("type=" + b + "&page=" + c + "&id=" + d),
                success: function (f) {
                  var i;
                  var j;
                  var k;
                  var l;
                  var m;
                  var n;
                  var g = f.data;
                  var h = g.list;
                  if (200 === f.code) {
                    if (1 === c && 0 === h.length) {
                      a.modal("hide");
                      pop.info("该账号没有创建过歌单！");
                    } else {
                      for (i = a.find(".step3"), j = i.find(".list-group"), k = "", l = 0, m = h.length; m > l; l++) {
                        k += "<a href=\"javascript:;\" class=\"list-group-item list-group-item-action\" style=\"";
                        mySongSheet.find(function (a) {
                          if (a.id == h[l].id && a.type == h[l].type) {
                            h[l].name += " (已添加)";
                            k += "pointer-events:none;color:#aaa";
                          }
                        });
                        1 === h[l].private && (k += "pointer-events:none;color:#aaa");
                        k += "\">" + h[l].name + "</a>";
                      }

                      k = $(k);
                      $(k).each(function () {
                        var a = $(this);
                        a.click(function () {
                          var c;
                          var b = j.find("a").index(this) % 20;
                          a.css("pointer-events", "none").css("color", "#aaa");
                          a.append(" (已添加)");
                          c = {
                            id: h[b].id,
                            title: h[b].name,
                            img: h[b].img,
                            type: h[b].type,
                            ltem: h[b].ltem
                          };
                          mySongSheet.unshift(c);
                          cache.set("mySongSheet", mySongSheet);
                          buildListPage();
                        });
                      });
                      1 === c ? j.html(k) : j.append(k);
                      j.find(".more").remove();
                      0 !== g.more && h.length === g.more && (n = $("<a href=\"javascript:;\" class=\"list-group-item list-group-item-action more\">加载更多...</a>"), j.append(n), n.click(function () {
                        n.css("pointer-events", "none");
                        n.text("正在努力加载中...");
                        c++;
                        e(b, c, d);
                      }));
                    }
                  } else {
                    a.modal("hide");
                    pop.info(f.msg);
                  }
                },
                error: function () {
                  a.modal("hide");
                  pop.info("未知错误！");
                },
                timeout: function () {
                  a.modal("hide");
                  pop.info("获取数据超时！");
                }
              });
            };

            e(b, c, d);
          });
        });
      });
    }
  };

  0 !== mySongSheet.length && ($$("#listPage").find(".num").eq(0).text(mySongSheet.length), b = "<div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\">", $.each(mySongSheet, function (a, c) {
    b += "<li class=\"col\" data-type=\"" + c.type + "\" data-ltem=\"" + c.ltem + "\" data-id=\"" + c.id + "\"><div class=\"lw-img\"><img src=\"" + c.img + "\" onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\"><div class=\"lw-btn\"><p class=\"lw-collect iconfont icon-heart-o\"></p></div></div><div class=\"lw-title\">" + c.title + "</div></li>";
  }), b += "</ul></div>", $$("#mySongSheet").html(b), bindListEvent("#mySongSheet"));
  a();
  0 !== mySongCollect.length && ($$("#listPage").find(".num").eq(1).text(mySongCollect.length), b = "<div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\">", $.each(mySongCollect, function (a, c) {
    b += "<li class=\"col\" data-type=\"" + c.type + "\" data-ltem=\"" + c.ltem + "\" data-id=\"" + c.id + "\"><div class=\"lw-img\"><img src=\"" + c.img + "\" onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\"><div class=\"lw-btn\"><p class=\"lw-collect iconfont icon-heart-o\"></p></div></div><div class=\"lw-title\">" + c.title + "</div></li>";
  }), b += "</ul></div>", $$("#mySongCollect").html(b), bindListEvent("#mySongCollect"));
};

buildFmPage = function () {
  $$("#fmPage").hasClass("init") || ($$("#fmPage").addClass("init"), $("#fmPage").html(getLoadHtml()), $.ajax({
    url: "api/fmlist",
    type: "post",
    success: function (a) {
      var b = a.data;
      var c = "<div class=\"listwrapper\" id=\"fmPlaylist\"><div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\">";
      b.forEach(function (a) {
        c += "<li data-text=\"" + a.text + "\"><div class=\"lw-img\"><img onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\" src=\"" + a.img + "\"></img></div><div class=\"lw-title\">" + a.title + "</div></li>";
      });
      c += "</ul></div></div>";
      $$("#fmPage").html(c);
      $("#fmPlaylist li").click(function () {
        search($(this).data("text"));
      });
    }
  }));
};

buildStatusPage = function () {
  $("#statusPage").html(getLoadHtml());

  var a = function () {
    $.ajax({
      url: "api/status",
      type: "post",
      timeout: 10000,
      success: function (a) {
        if ($("#statusPage").is(":visible")) {
          $("#statusPage").html(a);
        }
      },
      complete: function () {
        clearTimeout(gVar.statusTime);
        gVar.statusTime = setTimeout(function () {
          $("#statusPage").is(":hidden") || a();
        }, 4000);
      }
    });
  };

  a();
};

buildHomePage = function () {
  var a;
  var b;

  if (!$$(".home-content").hasClass("init")) {
    if ($$(".home-content").addClass("init"), a = function () {
      var a = function (a) {
        var c;
        var d;
        var b = "<div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\">";
        0 == a.index && (b += "<li class=\"col\" data-type=\"YQD\" data-ltem=\"neteasePlaylist\" data-id=\"RecommendSong\"><div class=\"lw-img\"><img src=\"https://ae01.alicdn.com/kf/H1fed304a1ab54b3b91e32420c55f65c2N.jpg\" onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\"></div><div class=\"lw-title\">每日歌单推荐</div></li>");
        c = a.list;
        c.forEach(function (c) {
          b += "<li class=\"col\" data-type=\"YQD\" data-ltem=\"" + a.item + "\" data-id=\"" + c.id + "\"><div class=\"lw-img\"><img src=\"" + c.picUrl.replace("http:", "https:") + "?param=200y200\" onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\">";
          a.btnCollect && (b += "<div class=\"lw-btn\"><p class=\"lw-collect iconfont icon-heart\"></p></div>");
          b += "</div><div class=\"lw-title\">" + c.name + "</div></li>";
        });
        b += "</ul></div>";
        d = {};
        d.index = a.index;
        d.title = a.title;
        d.html = b;
        d.id = a.id;
        d.bindListEvent = a.bindListEvent;
        gVar.homeData.push(d);
        cache.set("homeData", gVar.homeData);
        $$(".home-tab").find("li[data-page=\"featured\"]").click();
      };

      m_token && $.ajax({
        url: "http://musicapi.leanapp.cn/recommend/resource",
        xhrFields: {
          withCredentials: !0
        },
        type: "get",
        cache: !1,
        success: function (b) {
          a({
            list: b.recommend,
            index: 0,
            title: "个性化推荐",
            id: "recommendSong",
            type: "YQD",
            item: "neteasePlaylist",
            bindListEvent: "recommendSong",
            btnCollect: !0
          });
        }
      });
      $.ajax({
        url: "https://musicapi.leanapp.cn/personalized",
        type: "get",
        cache: !1,
        success: function (b) {
          a({
            list: b.result,
            index: 1,
            title: "热门推荐",
            id: "recomPlaylist",
            type: "YQD",
            item: "neteasePlaylist",
            bindListEvent: "recomPlaylist",
            btnCollect: !0
          });
        }
      });
      $.ajax({
        url: "https://musicapi.leanapp.cn/personalized/newsong",
        type: "get",
        cache: !1,
        success: function (b) {
          a({
            list: b.result,
            index: 2,
            title: "新歌首发",
            id: "newSonglist",
            type: "YQD",
            item: "neteaseSong",
            bindListEvent: "newSonglist",
            btnCollect: !1
          });
        }
      });
    }, b = cache.get("homeData", 1), !b) return gVar.homeData = [], a(), void 0;
    gVar.homeData = b;
    $$(".home-tab").find("li[data-page=\"featured\"]").click();
  }
};

changePage = function (a, b) {
  var c;
  var d;
  var e;

  if (a) {
    switch ("undefined" != typeof b ? b = b : b = 1, c = gVar.lastPage, c && "undefined" != typeof this[c] && (this[c].top = $$("html,body").scrollTop(), this[c].url = location.href, $$("#" + c).hide()), gVar.lastPage = a, $$("#" + a).show(), d = $$(".navBar-group[data-page=" + a + "]").find("span").text(), e = rootUrl, a) {
      case "discoverPage":
        buildHomePage();
        break;

      case "searchPage":
        $("#input").focus();
        0 == $("#music_tool").length && ($("#search").after("<ins id=\"music_tool\" class=\"adsbygoogle\" style=\"display:block;margin-bottom:20px\" data-ad-format=\"fluid\" data-ad-layout-key=\"-hh-7+2h-1m-4u\" data-ad-client=\"ca-pub-8773997952639831\" data-ad-slot=\"4336550278\"></ins>"), A_D_S());
        break;

      case "audioPage":
        null !== audioTitle && (d = audioTitle);
        e = this[a].url;
        break;

      case "listPage":
        buildListPage();
        break;

      case "fmPage":
        buildFmPage();
        break;

      case "statusPage":
        buildStatusPage();
    }

    b && (document.title = d + " - " + siteTitle, pushState(document.title, changeParam("page", a, e)));
    "undefined" != typeof this[a] && $$("html,body").scrollTop(this[a].top || 0);
    $(".navBar-current").removeClass("navBar-current");
    $$(".navBar-group[data-page=" + a + "]").addClass("navBar-current");
    $(".m-navBar-current").removeClass("m-navBar-current");
    $$(".m-navBar-group[data-page=" + a + "]").addClass("m-navBar-current");
  }
};

$(".navBar-group,.m-navBar-group").click(function () {
  changePage($(this).data("page"));
});

readState = function (a) {
  var c;
  var b = location.hash.split("?")[1] || location.search.split("?")[1];
  return b ? (c = function (a) {
    return b.match(new RegExp("(^|&)" + a + "=([^&]*)(&|$)"));
  }, a = c(a), null !== a ? a[2] : !1) : void 0;
};

$(function () {
  var a = function () {
    var b;
    var c;
    var a = readState("page");
    a ? changePage(a) : changePage("discoverPage");
    b = readState("name");
    c = readState("type");
    b && setTimeout(function () {
      if (c && $("#type").find("option[value=\"" + c + "\"]").length) {
        $$("#type").val(c).trigger("change");
        search(decodeURIComponent(b));
      }
    }, 0);
    setTimeout(function () {
      historylock = !1;
    }, 0);
  };

  addEventListener("popstate", function () {
    historylock = !0;
    a();
  });
  a();
});
smartbox = {
  show: function () {
    $$("#smartbox").show();
    $$("#searchbox").hide();
  },
  hide: function () {
    $$("#smartbox").hide();
    $$("#searchbox").show();
  }
};
$$("#empty").click(function () {
  $$("#input").val("").focus();
  $$("#empty").hide();
  smartbox.hide();
});
$$("#input").click(function () {
  $$("#input").trigger("propertychange");
});
$$(".qrcode").click(function () {
  var b;
  var a = $(this).parent().parent().prev()[0].value;

  if (a) {
    0 === $("#qrcode").length && $$("body").append("<div class=\"modal fade\" id=\"qrcode\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\">扫描二维码下载</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button></div><div class=\"modal-body text-center\"></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">关闭</button></div></div></div></div>");
    b = $("#qrcode");
    b.find(".modal-body").html("<img src=\"https://api.qrserver.com/v1/create-qr-code/?data=" + a + "\">");
    b.modal("show");
  }
});

A_D_S = function () {
  try {
    (adsbygoogle = window.adsbygoogle || []).push({});
  } catch (a) {
    console.log(a);
  }
};

$$(".copy").click(function () {
  var a = $(this).parent().prev()[0].value;

  if (a) {
    copyText(a);
    pop.info("复制成功！", 100);
  }
});
$(function () {
  var a = function (a) {
    $$("#hotkey").html(a);
    $$(".hotkey").click(function () {
      search($(this).find("span").eq(1).text());
    });
  };

  var b = cache.get("hotKey", 1);
  return b ? (a(b), void 0) : ($.ajax({
    url: "https://u.y.qq.com/cgi-bin/musicu.fcg?data={\"hotkey\":{\"module\":\"tencent_musicsoso_hotkey.HotkeyService\",\"method\":\"GetHotkeyForQQMusicMobile\",\"param\":{\"remoteplace\":\"txt.miniapp.wxada7aab80ba27074\",\"searchid\":\"" + new Date().valueOf() + "\"}}}",
    type: "get",
    dataType: "jsonp",
    jsonpCallback: "hotKey",
    success: function (b) {
      var c = "";
      b.hotkey.data.vec_hotkey.forEach(function (a) {
        c += "<a class=\"key-list hotkey\"><span>" + (a.score / 10000).toFixed(1) + "万</span><span>" + a.query + "</span></a>";
      });
      cache.set("hotKey", c);
      a(c);
    }
  }), void 0);
});
$$("#input").on("input propertychange", function () {
  var a = $.trim($$("#input").val());

  if (a) {
    if ($$("#empty").show(), gVar.searchText === a && $("#smartbox").find(".key-list").length) return smartbox.show(), void 0;
    gVar.searchText = a;
    $.ajax({
      url: "https://c.y.qq.com/splcloud/fcgi-bin/smartbox_new.fcg?jsonpCallback=cb&key=" + a,
      type: "get",
      dataType: "jsonp",
      jsonpCallback: "cb",
      success: function (a) {
        if (1 != searchlock && $$("#input").val()) {
          smartbox.hide();
          $$("#smartbox").find(".key-list").remove();

          var b = function (a, b) {
            var c;
            var d;
            var e;
            var f;

            if (a.count) {
              c = "";
              d = "";
              e = "";
              f = null;
              $.each(a.itemlist, function (a, b) {
                e = b.name;
                e += " - " + b.singer;
                d = e;
                c += "<a class=\"key-list\" data-type=\"" + f + "\" data-text=\"" + d + "\"><span class=\"smartbox_key\">" + e + "</span></a>";
              });
              $$("." + b).html(c).show().prev().show();
              smartbox.show();
            } else {
              $$("." + b).hide();
              $$("." + b).prev().hide();
            }
          };

          b(a.data.song, "smartbox-song");
          b(a.data.album, "smartbox-album");
          b(a.data.singer, "smartbox-singer");
          $(".smartbox_group").find(".key-list").click(function () {
            var a = $(this);
            var b = a.data("type");
            b && $$("#type").val(b).trigger("change");
            search(a.data("text"));
          });
        }
      }
    });
  } else {
    smartbox.hide();
    $$("#empty").hide();
  }
});

loaderFn = function (a) {
  this.$ele = $(a);
  this.$bar = this.$ele.find(".progress-bar");
  this.clock = null;
};

loaderFn.prototype = {
  lock: function () {
    var a = this;
    searchlock = !0;
    a.$bar.css({
      transition: "none",
      width: "0"
    });
    a.$ele.fadeIn(400);
    a.clock = $({
      property: 0
    }).animate({
      property: 98
    }, {
      duration: 3000,
      step: function () {
        var b = Math.round(this.property);
        a.$bar.css("width", b + "%");
      }
    });
  },
  unlock: function () {
    var a = this;
    a.clock.stop();
    a.$bar.css({
      transition: "all .2s ease-in-out 0s",
      width: "100%"
    });
    setTimeout(function () {
      a.$ele.fadeOut(400);
    }, 1);
    searchlock = !1;
  }
};
loader = new loaderFn("#loader");
$$("#m-download").find("input").focus(function () {
  $(this).select();
});

setValue = function (a) {
  var c;
  var d;
  var b = configure.dlname.replace("{name}", a.name).replace("{singer}", a.artist);
  $$("#name").val(b);
  $$("#pic").val(a.cover);

  c = function (a, b) {
    if (b) {
      if (a.val(b)) {
        a.parent().show();
      }
    } else {
      a.parent().hide();
    }
  };

  c($$("#url_m4a"), a.url_m4a);
  c($$("#url_128"), a.url_128);
  c($$("#url_320"), a.url_320);
  c($$("#url_ape"), a.url_ape);
  c($$("#url_flac"), a.url_flac);
  c($$("#url_dsd"), a.url_dsd);
  -1 !== a.lrc.indexOf("data:text/plain,[00:00.00]暂无歌词") ? $$("#url_lrc").parent().hide() : ($$("#url_lrc").val(a.lrc).parent().show(), (-1 !== a.lrc.indexOf(location.host) || a.lrc.indexOf("59.110.45.28")) && $$("#url_lrc").val($$("#url_lrc").val() + "/name/" + encodeURIComponent(b) + ".lrc"));
  $$(".pic_download").attr("href", a.cover);
  d = $$(".download");
  d.each(function (a) {
    d.eq(a).attr("href", d.eq(a).parent().prev().val());
  });
};

getExtname = function (a) {
  return {
    url_dsd: "flac",
    url_flac: "flac",
    url_ape: "ape",
    url_320: "mp3",
    url_128: "mp3",
    url_m4a: "m4a",
    url_lrc: "lrc"
  }[a];
};

$$(".download").click(function () {
  var a = $(this).parent().prev();
  var b = getExtname(a[0].id);
  return download($$("#name").val(), b, a.val()), $$("#m-download").modal("hide"), !1;
});
$$(".TLH_batch").click(function () {
  var a;
  var b;

  if (/(Win|Mac)/i.test(navigator.platform)) {
    if ($$("#player").hasClass("editing")) {
      document.onmousedown = null;
      document.onmousemove = null;
      document.onmouseup = null;
      a = $(".aplayer-list");
      a.find(".form-check").remove();
      a.find("ol").unbind("click");
      a.find("li").unbind("click");
      $(".aplayer-list-index").show();
      $$(".TLH_batch").text(gVar.batch_text);
      $(".aplayer-more").show();
      $(".freezed-footer").remove();
      $$("#player").removeClass("editing");
    } else {
      gVar.batch_text = $(".TLH_batch").text();
      $$("#player").addClass("editing");
      $$(".TLH_batch").text("Cancel");
      $(".aplayer-more").hide();
      a = $(".aplayer-list");

      b = function () {
        $(".selected-count").text("已选择" + a.find("input[type=\"checkbox\"]:checked").length + "首");
      };

      $(".aplayer-list-index").hide().after("<div class=\"form-check\" style=\"display:inline-block\"><input class=\"form-check-input\" type=\"checkbox\"><label class=\"form-check-label\"></label></div>");
      $$("#player").after("<div class=\"freezed-footer\"><div class=\"selected-count\">已选择0首</div><button data-bool=\"1\">优先无损下载</button><button data-bool=\"0\">优先高品下载</button></div>");
      a.find("li").click(function (a) {
        return "INPUT" != a.target.nodeName ? ($(this).find("input:checkbox").prop("checked", !$(this).find("input:checkbox").prop("checked")), b(), !1) : void 0;
      });
      $(".freezed-footer").find(".am-ucheck-icons").click(function () {
        b();
      });
      $(".freezed-footer").find("button").click(function () {
        var a = [];
        $(".aplayer-list").find("input[type=\"checkbox\"]:checked").parent().prev().text(function (b, c) {
          a.push(c - 1);
        });
        0 !== a.length && (zipdownload(a, $(this).data("bool")), $$(".TLH_batch").click());
      });
    }
  } else {
    pop.info("暂时仅支持PC端浏览器");
  }
});
$$("#search").submit(function (a) {
  var b;
  var c;
  var d;
  var e;
  var f;

  if (a.preventDefault(), searchlock === !1) {
    loader.lock();
    smartbox.hide();
    b = $.trim($$("#input").val());
    searchType = $$("#type").val();
    pushState(document.title, changeParam("name", encodeURIComponent(b), changeParam("type", searchType, changeParam("page", "audioPage"))));
    /^(http(s):\/\/[\w.\/]+)(?![^<]+>)/i.test(b) || /^fm\|(category|location|hot_list)\|[0-9]+$/i.test(b) || (c = historyData.indexOf(htmlEncode(b)), -1 !== c && historyData.splice(c, 1), historyData.unshift(htmlEncode(b)), cache.set("searchHistory", historyData), buildHistory());
    d = 1;
    e = $("<div class=\"aplayer-more\"></div>");

    try {
      f = function () {
        var a;
        var c;
        "YQA" === searchType || "YQD" === searchType || "bili" === searchType || "xiami" === searchType || "ximalaya" === searchType ? ($$(".TLH_batch").removeClass("btn-green-disabled"), $$(".freezed-header").addClass("can-batch")) : ($$(".TLH_batch").addClass("btn-green-disabled"), $$(".freezed-header").removeClass("can-batch"));
        a = ["http://59.110.45.28/m/api/search"];
        c = a[Math.floor(Math.random() * a.length)];
        "https://music.163.com/#/playlist?id=RecommendSong" == b && (c = "api/search");
        "https://music.163.com/#/playlist?id=3136952023" == b && (c = "api/search");
        $.ajax({
          type: "post",
          url: c,
          xhrFields: {
            withCredentials: !0
          },
          data: encode("text=" + b + "&page=" + d + "&type=" + searchType),
          success: function (a) {
            var b;
            var c;
            var g;
            var h;
            var i;
            var j;
            var k;
            var l;
            var m;
            var n;
            var p;
            var q;
            var r;
            var s;
            var t;
            if (loader.unlock(), 200 === a.code) {
              if (b = a.data, c = b.list, 0 === c.length && 1 === d) pop.info("没有搜索到任何歌曲，或请求超时，请重试！");else {
                if (changePage("audioPage", 0), 1 === d) {
                  if ($(".aplayer-more").remove(), g = function (a) {
                    var b = player.list.audios[a];
                    $$(".cover-art-image").css("background-image", "url(" + b.cover + "),url('https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg')");
                    $$(".mo-info-name").html(b.name);
                    $$(".mo-meta").html(b.artist);
                    $$(".aplayer-lyrics-container").hide();
                  }, player) {
                    player.list.clear();
                    player.list.add(c);
                  } else {
                    $$(".EmptyState").hide();
                    $$(".left-side").show();
                    $$(".TLH_download").removeClass("btn-green-disabled");
                    player = new APlayer({
                      container: $$("#player")[0],
                      autoplay: "yes" === configure.autoplay ? !0 : !1,
                      theme: "#FE444B",
                      lrcType: 3,
                      audio: c
                    });
                    $$("body").addClass("with-play-bar");
                    $$("#play-bar").show().append($$(".aplayer-body").detach()).find(".aplayer-pic").after("<div class=\"pb-control\"><svg data-id=\"skipBack\" viewbox=\"0 0 1024 1024\"><path d=\"M511.984485 977.424927a465.440441 465.440441 0 1 1 465.440442-465.440442 465.440441 465.440441 0 0 1-465.440442 465.440442z m-93.088088-620.587255h-62.058725v310.293627h62.058725v-310.293627z m248.234902 0l-217.205539 155.146813 217.205539 155.146814v-310.293627z\"></path></svg><svg data-id=\"play\" viewbox=\"0 0 1024 1024\"><path d=\"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512z m148.873846-530.983385c-15.36-13.154462-195.741538-166.951385-204.8-174.592-11.421538-9.531077-22.843077 2.599385-22.843077 18.865231v349.892923c0 17.92 12.603077 26.584615 22.055385 18.707693 13.390769-10.712615 194.56-165.415385 205.587692-174.985847a27.214769 27.214769 0 0 0 0-37.888z\"></path></svg><svg style=\"display:none\" data-id=\"pause\" viewbox=\"0 0 1024 1024\"><path d=\"M512 1024C229.23 1024 0 794.77 0 512S229.23 0 512 0s512 229.23 512 512-229.23 512-512 512zM392.533 273.066c-28.277 0-51.2 22.923-51.2 51.2v375.467c0 28.277 22.923 51.2 51.2 51.2 28.277 0 51.2-22.923 51.2-51.2V324.266c0-28.277-22.923-51.2-51.2-51.2z m238.933 0c-28.277 0-51.2 22.923-51.2 51.2v375.467c0 28.277 22.923 51.2 51.2 51.2 28.277 0 51.2-22.923 51.2-51.2V324.266c0-28.277-22.923-51.2-51.2-51.2z\"></path></svg><svg data-id=\"skipForward\" viewbox=\"0 0 1024 1024\"><path d=\"M511.984485 977.424927a465.440441 465.440441 0 1 1 465.440442-465.440442 465.440441 465.440441 0 0 1-465.440442 465.440442z m-155.146813-620.587255v310.293627l217.205539-155.146814z m310.293627 0h-62.058725v310.293627h62.058725v-310.293627z\"></path></svg></div>");
                    $$(".play-lrc").html($$(".aplayer-lrc").detach());
                    $$(".pb-control svg").click(function () {
                      player[$(this).data("id")]();
                    });
                    h = ["0.5", "0.75", "1", "1.25", "1.5", "2"];
                    i = 2;
                    j = $("<button style=\"width:auto;margin-left:2px\" type=\"button\" class=\"aplayer-icon aplayer-icon-speed\">" + h[i] + "X</button>");
                    $(".aplayer-icon-loop").after(j);
                    j.click(function () {
                      i += 1;
                      h.length === i && (i = 0);
                      player.audio.playbackRate = h[i];
                      $(".aplayer-icon-speed").text(h[i] + "X");
                    });

                    k = function () {
                      var b;
                      var c;
                      var a = player.list.audios[player.list.index];
                      audioTitle = (player.audio.paused ? "" : "▶ ") + a.name + " - " + a.artist + " - " + siteTitle;
                      $$("#audioPage").is(":visible") && (document.title = audioTitle);

                      try {
                        b = window.navigator.mediaSession;
                        c = window.MediaMetadata;
                        b.metadata = new c({
                          title: a.name,
                          artist: a.artist,
                          artwork: [{
                            src: a.cover,
                            sizes: "512x512",
                            type: "image/jpeg"
                          }]
                        });
                      } catch (d) {
                        console.log(d);
                      }
                    };

                    l = "";
                    m = new MutationObserver(function () {
                      $$(".aplayer-lrc").stop().animate({
                        scrollTop: 20 * (player.lrc.index - 2)
                      }, 300);
                      l = $(".aplayer-lrc-current").text() || "";
                      "Loading" !== l && ($$(".aplayer-lyrics-container").show().text(l), "hidden" == document.visibilityState && player.lrc.current.length > 1 && (document.title = l));
                    });
                    m.observe($(".aplayer-lrc-contents")[0], {
                      attributes: !0,
                      attributeFilter: ["style"]
                    });
                    addEventListener("visibilitychange", function () {
                      player && player.audio.paused || ("hidden" == document.visibilityState ? (gVar.tempTitle = document.title, player.lrc.current.length > 1 && (document.title = l)) : $$("#audioPage").is(":visible") ? k() : gVar.tempTitle && (document.title = gVar.tempTitle));
                    });
                    player.on("play", function () {
                      k();
                      $$(".pb-control svg[data-id=\"play\"]").hide();
                      $$(".pb-control svg[data-id=\"pause\"]").show();
                      player.audio.playbackRate = h[i];
                    });
                    player.on("listswitch", function (a) {
                      k();
                      g(a.index);
                    });
                    player.on("pause", function () {
                      k();
                      $$(".pb-control svg[data-id=\"pause\"]").hide();
                      $$(".pb-control svg[data-id=\"play\"]").show();
                    });
                    player.on("canplay", function () {
                      if ("yes" === configure.autoplay) {
                        player.play();
                      }
                    });

                    try {
                      n = window.navigator.mediaSession;
                      n.setActionHandler("previoustrack", function () {
                        player.skipBack();
                      });
                      n.setActionHandler("nexttrack", function () {
                        player.skipForward();
                      });
                    } catch (o) {
                      console.log(o);
                    }

                    $(".pb-control").after("<div class=\"pb-control-right\"><button type=\"button\" class=\"aplayer-icon pb-icon-volume-down\"></button><div class=\"progress ap-volume-bar\"><div class=\"progress-bar ap-volume-bar-value\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div></div><button type=\"button\" class=\"aplayer-icon pb-icon-order\"></button><button type=\"button\" class=\"aplayer-icon pb-icon-loop\"></button></div>");
                    $$(".pb-icon-order").append($(".aplayer-icon-order svg").clone()).click(function () {
                      $$(".aplayer-icon-order").click();
                      $$(".pb-icon-order svg").html($(".aplayer-icon-order svg").html());
                    });
                    $$(".aplayer-icon-order").click(function () {
                      $$(".pb-icon-order svg").html($(".aplayer-icon-order svg").html());
                    });
                    $$(".pb-icon-loop").append($(".aplayer-icon-loop svg").clone().click(function () {
                      $$(".aplayer-icon-loop").click();
                      $$(".pb-icon-loop svg").html($(".aplayer-icon-loop svg").html());
                    }));
                    $$(".aplayer-icon-loop").click(function () {
                      $$(".pb-icon-loop svg").html($(".aplayer-icon-loop svg").html());
                    });
                    $(".pb-icon-volume-down").html($(".aplayer-icon-volume-down svg").clone()).click(function () {
                      $$(".aplayer-icon-volume-down").click();
                    });
                    $(".pb-control-right").append($(".aplayer-icon-speed").clone(!0).attr("style", ""));

                    p = function (a, b) {
                      void 0 === b && player.volume(a);
                      $$(".ap-volume-bar-value").css("width", $$(".aplayer-volume").css("height"));
                      $$(".pb-icon-volume-down").html($(".aplayer-icon-volume-down svg").clone());
                    };

                    $$(".ap-volume-bar").on("mousedown", function () {
                      var a = $(this).offset();
                      var b = $(this).width();
                      $$(window).mousemove(function (c) {
                        var d = c.pageX - a.left;
                        var e = d / b;
                        p(e);
                      });
                    });
                    $$(".ap-volume-bar").click(function (a) {
                      var b = $(this).offset();
                      var c = $(this).width();
                      var d = a.pageX - b.left;
                      var e = d / c;
                      p(e);
                    });
                    $$(document).on("mouseup", function () {
                      $$(window).unbind("mousemove");
                    });
                    player.on("volumechange", function () {
                      p(player.audio.volume, !1);
                    });
                    p(player.audio.volume, !1);
                    g(0);
                  }

                  $$("html,body").scrollTop(0);
                } else player.list.add(c);

                for (q = $(".aplayer-list li:not(.init)"), r = q.length - 1; r >= 0; r--) {
                  s = q.eq(r);
                  t = player.list.audios[player.list.audios.length - q.length + r].time;
                  t && (s.addClass("with-time"), s.prepend("<span class=\"aplayer-list-time\">" + formatDuraton(t) + "</span>"));
                  s.prepend("<span class=\"aplayer-list-download iconfont icon-xiazai\"></span>");
                  s.addClass("init");
                }

                $(".aplayer-list-download").click(function () {
                  return setValue(player.list.audios[$(this).parent().find(".aplayer-list-index").text() - 1]), $$("#m-download").modal("show"), !1;
                });
                void 0 == b.more || 0 == b.more ? ($$("#player").append(e), e.html("没有了")) : (d++, $$("#player").append(e), c.length <= b.more - 1 ? e.html("没有了") : e.html("下一页"), e.click(function () {
                  if ("下一页" === e.html()) {
                    e.html("正在努力加载中");
                    f();
                  }
                }));
              }
            } else pop.info(a.msg || "发生未知错误");
          },
          error: function () {
            loader.unlock();
            e.html("下一页");
          },
          complete: function () {
            loader.unlock();
            "正在努力加载中" === e.html() && e.html("下一页");
          }
        });
      };
    } catch (g) {
      console.log(g);
      loader.unlock();
    }

    f();
  }
});
$(".TLH_download").click(function () {
  setValue(player.list.audios[player.list.index]);
  $$("#m-download").modal("show");
});

openUrl = function (a) {
  if (0 === $$("#openUrl").length) {
    $$clear("#openUrl");
    $$("body").append("<a target=\"_blank\" id=\"openUrl\"></a>");
  }

  var b = $$("#openUrl");
  b.attr("href", a);
  b[0].click();
};

getBinaryContent = function (a, b, c, d) {
  var e;
  var f;
  var g;
  c && (e = pop.download(a, "download"));

  f = function () {
    c && pop.close(e);
    d("error");
  };

  try {
    g = new XMLHttpRequest();
    g.open("GET", b, !0);
    g.responseType = "blob";
    "YQA" === searchType && /mobileoc.music.tc.qq.com/.test(b) && g.setRequestHeader("Range", "bytes=0-");

    g.onprogress = function (a) {
      if (a.lengthComputable && c) {
        pop.size(e, bytesToSize(a.loaded) + " / " + bytesToSize(a.total));
        pop.percent(e, 100 * (a.loaded / a.total) >> 0);
      }
    };

    g.onload = function () {
      if (4 == g.readyState && g.response) try {
        var b = new NewBlob(g.response);
        d("success", b);
        c && (pop.finished(e), pop.close(e, 2000));
      } catch (a) {
        console.log(a);
        f();
      } else f();
    };

    g.onreadystatechange = function () {
      4 != g.readyState || g.response || f();
    };

    g.send();
  } catch (h) {
    console.log(h);
    f();
  }
};

download = function (a, b, c) {
  copyText(a);
  /(Win|Mac)/i.test(navigator.platform) || window.chrome ? "banqu" === searchType || "YQA" === searchType || "YQD" === searchType || "bili" === searchType || "ximalaya" === searchType || "douban" === searchType ? (a += "." + b, getBinaryContent(a, c, !0, function (b, d) {
    "success" === b && saveAs(d, a);
    "error" === b && openUrl(c);
  })) : openUrl(c) : openUrl(c);
};

zipdownload = function (a, b) {
  var c;
  var d;
  var e;
  var f;
  var g;
  var h;
  var i;
  var j;
  var k;
  var l;
  var m;
  var n;

  for (b = b || !1, c = new JSZip(), d = JSZip.external.Promise, e = (player.list.audios[a[0]].name + ".zip").replace(/\//g, " "), f = pop.info("准备打包 " + e + "（0/" + a.length + "）", 0), g = 0, h = function (b, c) {
    return new d(function (d) {
      getBinaryContent(b, c, !0, function (b, c) {
        if ("success" === b && c) {
          g += 1;

          if (g === a.length) {
            var h = "开始打包";
          } else {
            var h = "准备打包";
          }

          pop.text(f, h + " " + e + "（" + g + "/" + a.length + "）");
        }

        "success" === b && d(c);
        "error" === b && d("");
      });
    });
  }, i = 0, j = a.length; j > i; i++) {
    k = "";
    l = a[i];
    m = configure.dlname.replace("{name}", player.list.audios[l].name).replace("{singer}", player.list.audios[l].artist).replace(/\//g, " ");

    n = function (a) {
      if ("" === k && void 0 !== player.list.audios[l][a]) {
        var b = function (a, b) {
          c.file(a, h(a, b), {
            binary: !0
          });
        };

        k = player.list.audios[l][a];
        b(m + "." + getExtname(a), k);
      }
    };

    b && (n("url_dsd"), n("url_flac"), n("url_ape"));
    "" === k && (n("url_320"), n("url_128"), n("url_m4a"));
  }

  c.generateAsync({
    type: "blob"
  }).then(function (a) {
    pop.text(f, e + " 打包完成！", "success", 3000);
    pop.close(f, 2000);
    saveAs(a, e);
  });
};

$$(".home-tab").find("li").click(function () {
  var a;
  var b;
  var c;
  var d;
  var e;
  var f;
  var g;
  var h;
  var i;

  if ($(".home-content").html(getLoadHtml()), a = $(this), b = a.data("page"), $(".home-tab-current").removeClass("home-tab-current"), a.addClass("home-tab-current"), "featured" === b) {
    "undefined" == typeof app.notice ? c = "" : c = HTMLDecode(app.notice);
    d = "<div class=\"home-ads\"><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-format=\"fluid\" data-ad-layout-key=\"-hh-7+2h-1m-4u\" data-ad-client=\"ca-pub-8773997952639831\" data-ad-slot=\"4336550278\"></ins></div><div class=\"home-title\">更新通知</div>" + c;
    e = gVar.homeData;
    e && (e.sort(function (a, b) {
      return a.index - b.index;
    }), gVar.homeData = e, e.forEach(function (a) {
      d += "<div class=\"home-title\">" + a.title + "</div><div id=\"" + a.id + "\" class=\"listwrapper\">" + a.html + "</div>";
    }), $$(".home-content").html(d), e.forEach(function (a) {
      if (a.bindListEvent) {
        bindListEvent("#" + a.bindListEvent);
      }
    }), A_D_S());
  } else if ("category" === b) {
    if (!gVar.HCselect) return $.ajax({
      url: "https://musicapi.leanapp.cn/playlist/catlist",
      type: "get",
      cache: !1,
      success: function (a) {
        var b;
        var c;
        var d;

        for (gVar.HCselect = [], b = Object.keys(a.categories).length, c = 0, d = b; d > c; c++) {
          gVar.HCselect[c] = [];
          gVar.HCselect[c].sub = [];
          gVar.HCselect[c].cat = a.categories[c];
        }

        a.sub.forEach(function (a) {
          gVar.HCselect[a.category].sub.push(a.name);
        });
        $$(".home-tab").find("li[data-page=\"category\"]").click();
      }
    }), void 0;
    $$(".home-content").html("<div class=\"my-3 px-3 row\"><select class=\"col mr-2 custom-select HC-cat\"></select><select class=\"col ml-2 custom-select HC-sub\"></select></div><div id=\"categorylist\" class=\"listwrapper\"></div>");
    f = $("#categorylist");
    g = $(".HC-cat");
    h = $(".HC-sub");
    d = "";
    gVar.HCselect.forEach(function (a, b) {
      d += "<option value=" + b + ">" + a.cat + "</option>";
    });
    g.html(d).on("change", function () {
      var a = gVar.HCselect[$(this).val()].sub;
      var b = "";
      a.forEach(function (a) {
        b += "<option value=" + a + ">" + a + "</option>";
      });
      h.html(b).trigger("change");
    });
    h.on("change", function () {
      f.html("<div style=\"text-align:center;font-size:30px;height:200px;line-height:200px\">加载分类歌单中...</div>");

      var a = function (b, c) {
        $.ajax({
          url: "https://musicapi.leanapp.cn/top/playlist?limit=20&offset=" + 20 * (c - 1) + "&order=hot&cat=" + encodeURIComponent(b),
          type: "get",
          cache: !1,
          success: function (d) {
            var h;
            var i;
            var e = d.playlists;
            var g = "<div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\">";
            e.forEach(function (a) {
              g += "<li class=\"col\" data-type=\"YQD\" data-ltem=\"neteasePlaylist\" data-id=\"" + a.id + "\"><div class=\"lw-img\"><img src=\"" + a.coverImgUrl.replace("http:", "https:") + "?param=200y200\" onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\"><div class=\"lw-btn\"><p class=\"lw-collect iconfont icon-heart\"></p></div></div><div class=\"lw-title\">" + a.name + "</div></li>";
            });
            g += "</ul></div>";
            1 === c ? f.html(g) : f.append(g);
            bindListEvent(f);
            $(".HC-more").remove();
            d.total / (20 * (c - 1)) > 1 && (h = $("<div class=\"HC-more\">加载更多</div>"), h.click(function () {
              h.off("click").text("正在努力加载中");
              a(b, c + 1);
            }), f.append(h), i = function () {
              if ("category" === $(".home-tab-current").data("page") && $$(window).height() + $$(window).scrollTop() - h.offset().top > 0) {
                h.click();
              }
            }, $$(window).unbind("scroll", i).bind("scroll", i));
          }
        });
      };

      a($(this).find("option:selected").text(), 1);
    });
    g.find("option").eq(0).attr("selected", !0).trigger("change");
  } else if ("toplist" === b) {
    d = "";
    i = [{
      name: "排行榜",
      type: "YQD",
      ltem: "neteasePlaylist",
      pica: "https://ae01.alicdn.com/kf/",
      picb: ".jpg",
      list: [{
        id: 19723756,
        pic: "H97ef7b05cc40433aae3165774f6f0f28z"
      }, {
        id: 3779629,
        pic: "Hed72d0bf59b4485eb7d246e0ed8f9214e"
      }, {
        id: 2884035,
        pic: "H1015ad5e8e2b4c1a88128d07ab3a4922E"
      }, {
        id: 3778678,
        pic: "Hc7358328a4c94ea2b1d8d443da05cd53D"
      }, {
        id: 1978921795,
        pic: "H0ee174a1f9a94dae8c8008a05aeffad4g"
      }, {
        id: 991319590,
        pic: "H7d69408918004455a10e9b07e0831d95q"
      }, {
        id: 2617766278,
        pic: "H41a534439a5a4360b7f969507017c085X"
      }, {
        id: 71384707,
        pic: "Hf9ff543b5da54224873bae84c855e90cu"
      }, {
        id: 2250011882,
        pic: "Hcbcc9ca8fd8149bb89ad9a1be7d24dc8T"
      }, {
        id: 71385702,
        pic: "Haeee84c9e4054b3d964de8183994130dB"
      }, {
        id: 10520166,
        pic: "H3eea649755c7491488911850e84d725aW"
      }, {
        id: 11641012,
        pic: "H33e4ac26b49a492a8d08d0f717fde154g"
      }, {
        id: 2809513713,
        pic: "H33ca24ca3fcb4dc1a5985bae302b9ecaV"
      }, {
        id: 2809577409,
        pic: "H1e48b78543404011900f587cc5c326afT"
      }, {
        id: 5059661515,
        pic: "U834d34c6d3984eeca2cf300be2162d8fG"
      }]
    }];
    i.forEach(function (a) {
      d += "<div class=\"home-title\">" + a.name + "</div><div id=\"toplist\" class=\"listwrapper\"><div class=\"container-fluid\"><ul class=\"row row-cols-2 row-cols-sm-4 row-cols-md-5\">";
      a.list.forEach(function (b) {
        d += "<li class=\"col\" data-ltem=\"" + a.ltem + "\" data-type=\"" + a.type + "\" data-id=\"" + b.id + "\"><div class=\"lw-img\"><img src=\"" + a.pica + b.pic + a.picb + "\" onerror=\"this.src='https://ae01.alicdn.com/kf/H0b1fe467600f41c2a3495b1af0505aceM.jpg';this.onerror=null;\"></div></li>";
      });
      d += "</ul></div></div>";
    });
    $$(".home-content").html(d);
    bindListEvent(".home-content");
  }
});
setTimeout(function () {
  A_D_S();
}, 10);
$$(".goto-top").click(function () {
  var b;
  var a = $$(".goto-top");
  a.hasClass("animate") || (a.addClass("animate"), b = 500, setTimeout(function () {
    a.removeClass("animate");
  }, b + 100), $$("html,body").animate({
    scrollTop: 0
  }, b));
});
$("#searchPage").find(".home-title").eq(0).dblclick(function () {
  var a = $("<option value=\"YQA\">腾讯</option><option value=\"YQC\">酷狗</option>");
  $("#type").prepend(a).trigger("change");
});
$(function () {
  var a = new MutationObserver(function () {
    a.disconnect();
    $$("#main").attr("style", "");
    b();
  });

  var b = function () {
    var b = document.getElementById("main");
    a.observe(b, {
      attributes: !0,
      attributeFilter: ["style"]
    });
  };

  b();
  $$("#main").attr("style", "");
});
setTimeout(function () {
  if ("" == $("#music_tool").html() && /(Win|Mac)/i.test(navigator.platform)) {
    pop.info("你的浏览器屏蔽了广告显示，请将本站加入广告白名单，帮助本站保持免费并做得更好。", 5000);
  }
}, 3000);
$(document).on("keydown", function (a) {
  if (0 === $("input:focus").length && player) {
    if (32 == a.keyCode) return player.toggle(), !1;

    if (37 == a.keyCode && 1 == a.ctrlKey) {
      player.skipBack();
    } else {
      if (39 == a.keyCode && 1 == a.ctrlKey) {
        player.skipForward();
      } else {
        if (77 == a.keyCode) {
          $$(".aplayer-icon-volume-down").click();
        } else {
          if (38 == a.keyCode && 1 == a.ctrlKey) {
            player.volume(player.audio.volume + 0.05);
          } else {
            if (40 == a.keyCode && 1 == a.ctrlKey) {
              player.volume(player.audio.volume - 0.05);
            }
          }
        }
      }
    }
  }
});
$("#lang button").click(function () {
  $.cookie("myfreemp3_lang", $(this).data("lang"));
  location.href = location.href;
});
"undefined" != typeof app.msg && app.msg && pop.info(HTMLDecode(app.msg));